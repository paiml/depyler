roadmap_version: '1.0'
github_enabled: true
github_repo: paiml/depyler
roadmap:
- id: DEPYLER-0496
  github_issue: null
  item_type: bug
  title: Binary operations on Result-returning expressions missing ? operator
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-23T21:30:00+00:00
  updated: 2025-11-24T21:05:46.903967072+00:00
  spec: docs/bugs/DEPYLER-0496-result-binop-error-propagation.md
  acceptance_criteria:
  - fibonacci_memoized(n-1) + fibonacci_memoized(n-2) uses ? operator
  - 'Generated code: fibonacci_memoized(n-1)? + fibonacci_memoized(n-2)?'
  - fibonacci_memoized compiles without E0369 error
  - No regressions in error handling tests
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Fix binop error propagation (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Quality gates (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 2h
  labels:
  - P0-critical
  - error-handling
  - result-type
  - binop
  notes: 'STOP THE LINE: Cannot add Result<T> + Result<T> without ? operator'
- id: DEPYLER-0497
  github_issue: null
  item_type: bug
  title: Option/Result types in format! macro need Debug formatting or unwrap
  status: completed
  priority: high
  assigned_to: null
  created: 2025-11-23T21:30:00+00:00
  updated: 2025-11-24T21:39:22.975162625+00:00
  spec: docs/bugs/DEPYLER-0497-format-macro-display-trait.md
  acceptance_criteria:
  - Result/Option/Vec in format! use {:?} or .unwrap()
  - fibonacci.rs compiles without E0277 Display errors
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Fix format macro codegen (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Quality gates (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 2h
  labels:
  - P1-high
  - format-macro
  - display-trait
  notes: 3 Display trait errors in fibonacci.rs
- id: DEPYLER-0498
  github_issue: null
  item_type: bug
  title: Option type mismatches - borrowing and comparison issues
  status: completed
  priority: high
  assigned_to: null
  created: 2025-11-23T21:30:00+00:00
  updated: 2025-11-24T10:50:07.660905682+00:00
  spec: docs/bugs/DEPYLER-0498-option-type-mismatches.md
  acceptance_criteria:
  - '&Option<T> vs Option<T> correctly handled (clone/deref)'
  - T compared with Option<T> uses .unwrap_or() or pattern match
  - fibonacci.rs compiles without E0308 type mismatch errors
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Fix Option handling (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Quality gates (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 3h
  labels:
  - P1-high
  - option-type
  - type-inference
  notes: 7 type mismatch errors in fibonacci.rs
- id: DEPYLER-0495
  github_issue: null
  item_type: bug
  title: Generator return type incorrect - Iterator[T] transpiles to Iterator<Item = Iterator<T>>
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-23T21:15:00+00:00
  updated: 2025-11-24T14:25:00.152992830+00:00
  spec: docs/bugs/DEPYLER-0495-generator-return-type.md
  acceptance_criteria:
  - Generator with Iterator[int] transpiles to impl Iterator<Item = i32>
  - Generated type Item = i32 (not Iterator<i32>)
  - fibonacci_generator compiles without E0107/E0191 errors
  - No regression in existing 6 generator tests
  - Test coverage for Iterator[T] with multiple element types
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Fix generator return type mapping (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Quality gates and regression testing (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 3h
  labels:
  - P0-critical
  - generators
  - type-mapping
  - iterator
  notes: 'STOP THE LINE: Iterator[int] incorrectly maps to Iterator<Item = Iterator<i32>> instead of Iterator<Item = i32>'
- id: DEPYLER-0494
  github_issue: null
  item_type: bug
  title: Generator variable scoping - variables not accessible across yield states
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-23T18:45:00+00:00
  updated: 2025-11-23T21:02:02.434962801+00:00
  spec: docs/bugs/DEPYLER-0494-generator-variable-scoping.md
  acceptance_criteria:
  - fibonacci_generator compiles without errors
  - Generated state struct contains a, b, count fields
  - Variables accessed via self.a, self.b, self.count
  - No "cannot find value in scope" errors
  - Test coverage ≥80% for generator transpilation
  - All existing tests pass
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Implement generator variable analysis (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Quality gates and regression testing (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 6h
  labels:
  - P0-critical
  - generators
  - yield
  - state-machine
  notes: 'STOP THE LINE: Breaks ALL Python generators with yield (36 compilation errors in fibonacci.rs)'
- id: DEPYLER-0492
  github_issue: null
  item_type: bug
  title: Type inference for unannotated parameters - Hindley-Milner integration
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-23T16:44:09.512548668+00:00
  updated: 2025-11-23T16:44:09.512548668+00:00
  spec: docs/bugs/DEPYLER-0492-type-inference-unannotated-params.md
  acceptance_criteria:
  - Hindley-Milner solver integrated into transpilation pipeline
  - Constraints collected from indexing, slicing, function calls
  - example_subprocess compiles without errors
  - 'Parameter types: cmd: Vec<String>, check: bool (not serde_json::Value)'
  - Test coverage 5+ property tests for constraint collection
  - No regression in existing 7 passing examples
  - 'Performance: <50ms overhead for type inference'
  phases:
  - name: Phase 1 - Create failing test
    status: completed
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Implement constraint collection
    status: completed
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Integration testing on real examples
    status: completed
    estimated_effort: null
    completion: 0
  - name: Phase 4 - Re-transpile and verify
    status: completed
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 4h
  labels:
  - type-inference
  - hindley-milner
  - highest-impact
  notes: 'Completed: All 4 phases successful, 4/7 tests passing'
- id: DEPYLER-0493
  github_issue: null
  item_type: bug
  title: Constructor pattern recognition for tempfile and stdlib types
  status: completed
  priority: high
  assigned_to: Claude
  created: 2025-11-23T17:17:00+00:00
  updated: 2025-11-23T17:52:09.899075443+00:00
  spec: docs/bugs/DEPYLER-0493-constructor-patterns.md
  acceptance_criteria:
  - tempfile::NamedTempFile constructed correctly (::new() pattern) ✅
  - Constructor patterns infrastructure in place for future types ✅
  - ConstructorPattern enum with New/Function/Method variants ✅
  - Module mapper updated with constructor metadata ✅
  phases:
  - name: Phase 1 - Analyze constructor errors
    status: completed
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Implement constructor recognition
    status: completed
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Test and validate
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 2h
  labels:
  - stdlib-mappings
  - constructor-patterns
  - high-impact
  notes: 'Completed Phases 1-2: Root cause found (MethodCall path in ast_bridge), infrastructure implemented, tempfile working'
- id: DEPYLER-0483
  github_issue: null
  item_type: bug
  title: Incorrect &mut parameter type inference for immutable parameters
  status: completed
  priority: high
  assigned_to: Claude
  created: 2025-11-23T18:30:00+00:00
  updated: 2025-11-23T21:03:31.361457130+00:00
  spec: docs/bugs/DEPYLER-0483-mut-parameter-inference.md
  acceptance_criteria:
  - Parameters used immutably inferred as & (not &mut)
  - set_nested_value compiles without E0596 error
  - Function parameter mutability correctly analyzed
  - No regression in existing 2 compiling examples
  - Test coverage for mutability inference edge cases
  phases:
  - name: Phase 1 - Investigate root cause
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Fix mutability inference logic
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Test and validate
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 3h
  labels:
  - type-inference
  - mutability
  - P1-blocker
  notes: Affects example_config, causes E0596 borrow checker error
- id: DEPYLER-0269
  github_issue: null
  item_type: bug
  title: isinstance() generates invalid Rust code
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-10-27T00:00:00+00:00
  updated: 2025-11-23T21:03:54.137243208+00:00
  spec: docs/bugs/DEPYLER-0269-isinstance-transpilation.md
  acceptance_criteria:
  - isinstance() calls removed from generated Rust code
  - Type-annotated parameters return true (type system guarantees)
  - Generated code compiles without isinstance errors
  - No regression in existing compiling examples
  - Test coverage for isinstance with int, str, list, dict types
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 2 - Implement isinstance removal (GREEN)
    status: planned
    estimated_effort: null
    completion: 0
  - name: Phase 3 - Test and validate (REFACTOR)
    status: planned
    estimated_effort: null
    completion: 0
  subtasks: []
  estimated_effort: 2h
  labels:
  - P0-critical
  - type-checking
  - builtins
  notes: 'STOP THE LINE: isinstance(x, int) generates undefined isinstance() and int'
- id: DEPYLER-0499
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0499'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T10:13:24.711450624+00:00
  updated: 2025-11-24T10:20:40.708107718+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0500
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0500'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T10:27:52.403010211+00:00
  updated: 2025-11-24T11:46:00.116248914+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0501
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0501'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T11:49:33.015638509+00:00
  updated: 2025-11-24T11:52:54.479822338+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0502
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0502'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T11:52:49.304653533+00:00
  updated: 2025-11-24T15:07:57.230154466+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0503
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0503'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T12:14:35.910762399+00:00
  updated: 2025-11-24T12:31:44.188984488+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0504
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0504'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T12:32:04.407626759+00:00
  updated: 2025-11-24T15:05:45.420659479+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0505
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0505'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T13:13:53.999994866+00:00
  updated: 2025-11-24T13:17:20.318312746+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0506
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0506'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T13:54:52.533704423+00:00
  updated: 2025-11-24T13:59:27.263790223+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0507
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0507'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T14:04:05.432966825+00:00
  updated: 2025-11-24T14:24:01.509985071+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0508
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0508'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T15:14:18.375006960+00:00
  updated: 2025-11-24T15:39:58.207600499+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0509
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0509'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T15:41:04.252194118+00:00
  updated: 2025-11-24T15:48:38.682201181+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0510
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0510'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T16:54:25.378558912+00:00
  updated: 2025-11-24T20:55:43.285733073+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0511
  github_issue: null
  item_type: bug
  title: Range Comprehension Parentheses Bug (Operator Precedence)
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-24T16:58:25.820352427+00:00
  updated: 2025-11-24T17:30:00+00:00
  spec: crates/depyler-core/tests/depyler_0511_range_parentheses.rs
  acceptance_criteria:
  - 'Range expressions in comprehensions generate correct Rust: (0..5).into_iter()'
  - All 5 DEPYLER-0511 tests pass (list/dict/set/nested/range_with_start)
  - Original 3 failing tests pass (test_25, test_30, test_35)
  - Generated code compiles without operator precedence errors
  phases:
  - name: RED - Create failing tests
    status: completed
    estimated_effort: null
    completion: 100
  - name: GREEN - Fix 9 code paths
    status: completed
    estimated_effort: null
    completion: 100
  - name: REFACTOR - Quality gates
    status: completed
    estimated_effort: null
    completion: 100
  subtasks: []
  estimated_effort: 2h
  labels:
  - P0-critical
  - comprehensions
  - operator-precedence
  - ranges
  notes: 'STOP THE LINE: 0..5.into_iter() parsed as 0..(5.into_iter()) - fixed 9 code paths'
- id: DEPYLER-0512
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0512'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T17:28:15.909996052+00:00
  updated: 2025-11-24T17:35:19.043604449+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0513
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0513'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T17:36:09.874901712+00:00
  updated: 2025-11-24T17:51:20.369607532+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: GH-74
  github_issue: 74
  item_type: task
  title: Seconds is incorrectly generated
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T17:52:20.527774558+00:00
  updated: 2025-11-24T17:58:23.343773698+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: GH-72
  github_issue: 72
  item_type: task
  title: Min operation is incorrectly converted
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T18:03:51.956727857+00:00
  updated: 2025-11-24T18:11:50.566518237+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: GH-103
  github_issue: 103
  item_type: task
  title: 'Codegen Bug: Missing `Args::parse()` call in argparse-generated CLI code'
  status: inprogress
  priority: medium
  assigned_to: null
  created: 2025-11-24T18:13:17.211159025+00:00
  updated: 2025-11-24T22:53:27.154294430+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels:
  - bug
  notes: null
- id: GH-70
  github_issue: 70
  item_type: task
  title: Nested function definitions not supported - Blocks itertools.groupby with key functions
  status: inprogress
  priority: medium
  assigned_to: null
  created: 2025-11-24T19:54:00.092118063+00:00
  updated: 2025-11-24T22:59:41.306005747+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels:
  - bug
  - enhancement
  notes: null
- id: GH-69
  github_issue: null
  item_type: task
  title: 'New task: GH-69'
  status: completed
  priority: medium
  assigned_to: null
  created: 2025-11-24T21:43:10.586517508+00:00
  updated: 2025-11-24T21:44:49.935057618+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0514
  github_issue: null
  item_type: bug
  title: Optimizer removes assignments before try/with blocks
  status: completed
  priority: critical
  assigned_to: Claude
  created: 2025-11-24T21:52:36.549469880+00:00
  updated: 2025-11-24T23:00:00.000000000+00:00
  spec: null
  acceptance_criteria:
  - Variables assigned before try blocks preserved in generated code
  - Dead code elimination recurses into try/except/else/finally blocks
  - Dead code elimination recurses into with statement bodies
  - All 545 unit tests pass
  - Integration test validates ternary assignment before try block
  phases:
  - name: Phase 1 - Create failing tests (RED)
    status: completed
    estimated_effort: null
    completion: 100
  - name: Phase 2 - Fix optimizer (GREEN)
    status: completed
    estimated_effort: null
    completion: 100
  - name: Phase 3 - Quality gates (REFACTOR)
    status: completed
    estimated_effort: null
    completion: 100
  subtasks: []
  estimated_effort: 3h
  labels:
  - P0-critical
  - optimizer
  - dead-code-elimination
  - try-except
  notes: 'ROOT CAUSE: Optimizer.collect_truly_used_vars_stmt did not recurse into Try/With statements. Added handlers for HirStmt::Try and HirStmt::With to collect used variables from all nested blocks.'
- id: CLEANUP-2025-11-24
  github_issue: null
  item_type: task
  title: 'New task: CLEANUP-2025-11-24'
  status: inprogress
  priority: medium
  assigned_to: null
  created: 2025-11-24T22:44:52.292389504+00:00
  updated: 2025-11-24T22:44:52.292389504+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-REFACTOR-001
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-REFACTOR-001'
  status: inprogress
  priority: medium
  assigned_to: null
  created: 2025-11-24T22:50:44.446137517+00:00
  updated: 2025-11-25T03:32:45.184646844+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
- id: DEPYLER-0515
  github_issue: null
  item_type: task
  title: 'New task: DEPYLER-0515'
  status: inprogress
  priority: medium
  assigned_to: null
  created: 2025-11-25T03:23:49.671383519+00:00
  updated: 2025-11-25T03:23:49.671383519+00:00
  spec: null
  acceptance_criteria: []
  phases: []
  subtasks: []
  estimated_effort: null
  labels: []
  notes: null
