# 12.5 Single-Shot Compile Score (DEPYLER-SCORE-001)

[â† Back to TOC](../pareto-complete-single-shot.md)

---

## Score Architecture (100 Points)

| Category | Points | Weight | Subcategories |
|----------|--------|--------|---------------|
| **A. Compilation** | 40 | 40% | Parse (10), Type Check (15), Build (15) |
| **B. Type Inference** | 25 | 25% | No E0308 (10), No E0599 (8), No E0425 (7) |
| **C. Test Coverage** | 15 | 15% | Doctest (5), Unit (5), Property (5) |
| **D. Code Quality** | 10 | 10% | Clippy (5), TDG (3), Complexity (2) |
| **E. Semantic Equiv** | 10 | 10% | Trace Match (5), Output (5) |

---

## Scoring Formula

```
Total = A + B + C + D + E

A = 10*(parse_ok) + 15*(type_check_ok) + 15*(build_ok)
B = 10*(1 - E0308_ratio) + 8*(1 - E0599_ratio) + 7*(1 - E0425_ratio)
C = 5*(doctest) + 5*(unit_test) + 5*(property_test)
D = 5*(clippy_clean) + 3*(tdg >= B) + 2*(complexity <= 10)
E = 5*(trace_match) + 5*(output_equiv)
```

---

## Gateway Logic (Falsifiability)

```
IF Category_A < 24/40 (60%) THEN:
    Total_Score = 0
    Status = "COMPILATION_GATEWAY_FAILED"
```

**Rationale**: Downstream metrics are meaningless if code doesn't compile.

---

## Scoring Modes

| Mode | Time | Checks | Use Case |
|------|------|--------|----------|
| `Quick` | <10s | A only | Pre-commit |
| `Fast` | <60s | A + B + D1 | PR validation |
| `Full` | <5m | All | Release |

---

## Command

```bash
depyler score example.py --mode fast --min-score 80
```

---

## Grade Scale

| Score | Grade | Status |
|-------|-------|--------|
| 90-100 | A | Excellent |
| 80-89 | B | Good |
| 70-79 | C | Acceptable |
| 60-69 | D | Needs Work |
| <60 | F | Failing |
